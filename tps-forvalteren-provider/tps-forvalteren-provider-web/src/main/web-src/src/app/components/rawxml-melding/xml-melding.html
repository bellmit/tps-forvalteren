<div class="xmlMelding-page" layout="column" flex layout-padding ng-cloak>
    <!--<md-progress-linear class="progress" md-mode="indeterminate" ng-show="showProgress"></md-progress-linear>-->
    <h3 class="title">Send XML melding</h3>
    <div class="xmlMelding-content md-whiteframe-z1 request-form">
        <form name="xmlMelding-form" flex="100" class="accent" ng-submit="sendTilTps()">
            <div layout="row" class="xmlMelding-content-row">
                <div class="input-container-div" layout="column" flex="10">
                    <md-input-container class="input-container">
                        <label>Miljø</label>
                        <md-select name="miljoe" ng-model="valgtMiljoe" ng-required="" ng-change="onChangeMiljoe()">
                            <md-option ng-value="env" ng-repeat="env in displayEnvironments">{{ env }}</md-option>
                        </md-select>
                    </md-input-container>
                </div>

                <div class="input-container-div" layout="column" flex="40">
                    <md-input-container class="input-container">
                        <label>Til kø</label>
                        <md-select name="tilKoe" ng-model="valgtKoe" ng-required="" ng-change="onChangeQueue()">
                            <md-option ng-value="queue" ng-repeat="queue in displayQueues">{{ queue }}</md-option>
                        </md-select>
                    </md-input-container>
                </div>

                <div layout="column">
                    <md-input-container aria-label="Lagre oppdatert gruppeinfo">
                        <md-button type="submit" class="md-button md-raised md-accent" ng-disabled="xmlMelding-form.$invalid || !valgtKoe || !valgtMiljoe">
                            Send til TPS
                        </md-button>
                    </md-input-container>
                </div>

                <div class="input-container-div" flex="">
                    <md-content class="xmlMelding-tps-vk-status-container">
                        <div class="tps-vk-status" layout="row" ng-show="showStatus">
                            <ng-md-icon class="tps-vk-status-icon" ng-class="returStatus == '00' ? 'success' : 'error'"
                                        icon="fiber_manual_record"></ng-md-icon>
                            <div class="xmlMelding-status-message">
                                {{svarStatus}}
                            </div>
                        </div>
                    </md-content>
                </div>
            </div>

            <div layout="row" class="xmlMelding-content-row">
                <div class="input-container-div" layout="column">
                    <md-input-container class="tps-vk-input-container">
                        <md-tooltip>Skriv inn eller lim inn XML meding</md-tooltip>
                        <label>XML melding</label>
                        <textarea cols="120" name="xmlMelding" ng-model="melding" required class="textarea-xmlMelding"
                                  placeholder="Skriv eller lim inn meldingg i XML format" minlength="10"
                        >
                        </textarea>
                    </md-input-container>
                </div>
            </div>
            <br/>
        </form>


    </div>
</div>