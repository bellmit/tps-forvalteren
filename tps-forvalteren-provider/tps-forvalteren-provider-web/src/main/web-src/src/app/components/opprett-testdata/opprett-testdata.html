<div class="tps-vk-service-rutine-dashboard" layout="column" class="md-primary md-hue-3" flex layout-padding ng-cloak>

        <!-- Resulting Response -->
        <md-content flex="95" class="tps-vk-bottom md-whiteframe-z2" layout="column">

            <h2>Legg til testpersoner</h2>
            <!-- Setup Tabs -->
            <md-tabs md-border-bottom class="tps-vk-scrollable-tabs">
                <!-- Tab Readable Result -->
                <md-tab label="Opprett person fra kriterier">
                    <form name="requestForm" class="tps-vk-form">
                        <!-- Include HTML file "response.html" -->
                        <div layout="row" style="margin-top: 60px; margin-left: 30px;">
                            <md-input-container class="tps-vk-input-container" layout="column" flex="5"
                                                flex aria-label="Velg identtype">
                                <md-tooltip>Velg ident type</md-tooltip>
                                <label for="identtype">Type</label>
                                <md-select id="identtype" ng-model="kriterium.identtype" class="md-no-underline" ng-disabled="!editMode">
                                    <md-option selected value="FNR">FNR</md-option>
                                    <md-option value="DNR">DNR</md-option>
                                    <md-option value="BNR">BNR</md-option>
                                </md-select>
                            </md-input-container>

                            <div layout="column" flex="5"></div>
                            <md-input-container class="tps-vk-input-container" layout="column" flex="10"
                                                aria-label="Velg kjønn">
                                <md-tooltip>Velg kjønn</md-tooltip>
                                <label for="kjonn">Kjønn</label>
                                <md-select id="kjonn" ng-model="kriterium.kjonn" placeholder="Velg kjønn"
                                           class="md-no-underline" ng-disabled="!editMode">
                                    <md-option value="K">Kvinne</md-option>
                                    <md-option value="M">Mann</md-option>
                                </md-select>
                            </md-input-container>

                            <div layout="column" flex="5"></div>
                            <md-input-container class="tps-vk-input-container" layout="column" flex="10"
                                                aria-label="Legg til dato født etter">
                                <md-tooltip>Bestem "Født etter" dato</md-tooltip>
                                <label for="foedtEtter">Født etter</label>
                                <md-datepicker id="foedtEtter" name="foedtEtter"
                                               md-placeholder="Angi dato"
                                               md-current-view="year"
                                               ng-model="kriterium.foedtEtter"
                                               md-min-date="startOfEra"
                                               md-max-date="foedtFoerMin"
                                               ng-disabled="!editMode"
                                               ng-change="foedtEtterChanged()">
                                </md-datepicker>
                                <div ng-messages="requestForm.foedtEtter.$error">
                                    <div ng-message="valid">Gyldig datoformat er DD-MM-ÅÅÅÅ</div>
                                    <div ng-message="mindate">Dato kan ikke være før 01-01-1900</div>
                                    <div ng-message="maxdate">Dato kan ikke være etter "Født før", eventuelt dagens dato</div>
                                </div>
                            </md-input-container>

                            <div layout="column" flex="5"></div>
                            <md-input-container class="tps-vk-input-container" layout="column" flex="10"
                                                aria-label="Legg til dato født før">
                                <md-tooltip>Bestem "Født før" dato</md-tooltip>
                                <label for="foedtFoer">Født før</label>
                                <md-datepicker
                                        id="foedtFoer"
                                        md-placeholder="Angi dato"
                                        md-current-view="year"
                                        ng-model="kriterium.foedtFoer"
                                        md-max-date="today"
                                        md-min-date="foedtEtterMax"
                                        ng-disabled="!editMode"
                                        ng-change="foedtFoerChanged()">
                                </md-datepicker>
                                <div ng-messages="requestForm.foedtFoer.$error">
                                    <div ng-message="valid">Gyldig datoformat er DD-MM-ÅÅÅÅ</div>
                                    <div ng-message="mindate">Dato må være større enn "Født etter", eventuelt tidligst 01-01-1990</div>
                                    <div ng-message="maxdate">Dato kan ikke være etter dagens dato</div>
                                </div>
                            </md-input-container>

                            <div layout="column" flex="5"></div>
                            <md-input-container class="tps-vk-input-container" aria-label="Sett antall personer">
                                <md-tooltip>Antall testpersoner som skal genereres</md-tooltip>
                                <label for="antall">Antall*</label>
                                <input id="antall" name="antall" placeholder="Antall personer" ng-model="kriterium.antall"
                                       maxlength="2" pattern="[0-9]+" ng-disabled="!editMode">
                                <div class="validation-messages" ng-messages="requestForm.antall.$error" ng-show="requestForm.antall.$touched">
                                    <div ng-message="pattern">Ugyldig tallverdi</div>
                                </div>
                            </md-input-container>

                            <div layout="column" flex="5"></div>
                            <md-input-container class="tps-vk-input-container" layout="column" flex="5"
                                                aria-label="Legg til kriterium">
                                <md-tooltip>Legg til kriterium</md-tooltip>
                                <div layout="column">
                                    <md-button ng-disabled="!requestForm.$valid || !kriterium.antall || kriterium.antall == 0 || !editMode"
                                               ng-click="addKriterium()" class="md-raised">Legg til</md-button>
                                </div>
                            </md-input-container>
                        </div>
                        <div style="margin-left: 30px;" flex>
                            <div layout="row" style="margin-bottom: 10px;" ng-repeat="kriterium in kriterier">
                                <div layout="column" aria-label="Slett denne raden">
                                    <md-tooltip>Slett denne raden</md-tooltip>
                                    <md-icon md-svg-icon="assets/icons/ic_delete_black_24px.svg" ng-click="removeDialog($index)"></md-icon>
                                </div>
                                <div layout="column">Type = "{{kriterium.identtype}}"</div>
                                <div layout="column" ng-if="kriterium.kjonn != ' '">, Kjonn = "{{kriterium.kjonn}}"</div>
                                <div layout="column" ng-if="kriterium.foedtEtter">, Født etter = "{{kriterium.foedtEtter | date:'dd-MM-yyyy'}}"</div>
                                <div layout="column" ng-if="kriterium.foedtFoer">, Født før = "{{kriterium.foedtFoer | date:'dd-MM-yyyy'}}"</div>
                                <div layout="column" ng-if="kriterium.antall">, Antall = "{{kriterium.antall}}"</div>
                            </div>

                            <div layout="row" style="margin-top: 30px;" layout-align="center center" flex="75" ng-if="kriterier.length == 0">Det er ikke lagt til noen kriterier</div>
                        </div>
                        <md-toolbar class="md-toolbar-tools" layout="row" style="margin-left: 30px; margin-top: 50px;" flex="75">
                            <span flex></span>
                            <div layout="row" layout-sm="column" flex="100" ng-show="showSpinner">
                                <md-progress-linear md-mode="indeterminate"></md-progress-linear>
                            </div>
                            <div>
                                <md-tooltip>Avbryt operasjon "Legg til testpersoner"</md-tooltip>
                                <md-button class="md-raised" ng-disabled="!editMode" ng-click="avbryt()"
                                       aria-label='Avbryt operasjon "Legg til testpersoner"'>Avbryt</md-button>
                            </div>
                            <div>
                                <md-tooltip>Utfør operasjon "Legg til testpersoner"</md-tooltip>
                                <md-button style="margin-right: 10px;" class="md-raised md-accent" ng-disabled="kriterier.length == 0 || !editMode"
                                       aria-label='Utfør operasjon "Legg til testpersoner"'
                                       ng-click="opprettTestpersoner()">Opprett</md-button>
                            </div>
                        </md-toolbar>
                    </form>
                </md-tab>
                <md-tab label="Opprett person fra liste over identer" style="background-color: rgb(250,250,250)">
                    <!-- Include HTML file "response.html" -->
                    <div class="tps-vk-top">

                    </div>
                </md-tab>
            </md-tabs>
        </md-content>
</div>