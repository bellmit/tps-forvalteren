<div class="tps-vk-service-rutine-dashboard" layout="column" class="md-primary md-hue-3" flex layout-padding ng-cloak>

    <div class="tps-vk-top md-whiteframe-z2">
        <h2>Testdata</h2>

        <a ng-href="http:vg.no">Opprett ny testperson</a>
        <md-input-container class="tps-vk-input-container" layout="col">
            <md-checkbox md-tab-label="Velg alle" data-ng-model="allePersoner" ng-click="velgAlle()"></md-checkbox>
            Velg alle
        </md-input-container>

        <div layout="row" flex>
            <div layout="column" flex="5" class="header-label"></div>
            <div layout="column" flex="15" class="header-label">Identitet</div>
            <div layout="column" flex="25" class="header-label">Navn</div>
            <div layout="column" flex="10" class="header-label">Kjønn</div>
        </div>

        <div ng-repeat="person in personer">
            <div layout="row">
            <md-checkbox layout="column" flex="5" class="marker-inntekt-sjekkboks"
                         ng-change="inntektSelectionChanged()"
                         ng-model="person.velg"
                         aria-label="Marker person{{person.ident}} for sletting">
            </md-checkbox>
            <md-card flex>
                <md-card-content flex class="md-whiteframe-5dp"  ng-click="enableEditing($index)">
                    <div class="tps-vk-form">
                        <div layout="row">
                            <div layout="column" flex="15">{{person.ident}} ({{person.identtype}})</div>
                            <div layout="column" flex="30">
                               {{person.fornavn}} {{person.mellomnavn}} {{person.etternavn}}
                            </div>
                            <div layout="column" flex="5">{{person.kjonn}}</div>
                            <div layout-align="end center" layout="row" flex="5">
                                <md-button id="cancel" ng-class="{flipped: isEditing && selected == $index}"
                                           class="md-icon-button"
                                           type="button"
                                           aria-label="Vis testdata detaljer"
                                           ng-click="cancel()">
                                    <md-icon md-svg-icon="assets/icons/keyboard_arrow_down.svg"></md-icon>
                                </md-button>
                            </div>
                        </div>
                    </div>
                    <div layout="row" ng-if="isEditing && selected == $index">
                        <div class="line">
                            <br>
                            <div layout="row" flex>
                                <md-input-container class="tps-vk-input-container" flex="15">
                                    <label>Ident</label>
                                    <input name="ident" ng-required="true" md-maxlength="11" pattern="[0-9]{11}" ng-model="person.ident"/>
                                    <div ng-messages="testdataForm.ident.$error" ng-show="testdataFrom.ident.$touched">
                                        <div ng-message="pattern">Feltet kan kun inneholde tall</div>
                                        <div ng-message="md-maxlength">Feltet kan maksimalt inneholde elleve siffer</div>
                                    </div>
                                </md-input-container>
                                <md-input-container class="tps-vk-input-container" flex="25">
                                    <label>Type</label>
                                    <md-select data-ng-model="person.identtype">
                                        <md-option value="FNR">FNR</md-option>
                                        <md-option value="DNR">DNR</md-option>
                                        <md-option value="BNR">BNR</md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <div layout="row">
                                <md-input-container class="tps-vk-input-container" flex>
                                    <label>Fornavn</label>
                                    <input name="fornavn" ng-required="true" md-maxlength="50" ng-model="person.fornavn"/>
                                    <div ng-messages="testdataForm.fornavn.$error" ng-show="testdataForm.fornavn.$touched">
                                        <div ng-message="pattern">Feltet kan kun inneholde tall</div>
                                        <div ng-message="md-maxlength">Feltet kan maksimalt inneholde elleve siffer</div>
                                    </div>
                                </md-input-container>
                                <md-input-container class="tps-vk-input-container" flex>
                                    <label>Mellomnavn</label>
                                    <input name="mellomnavn" ng-required="false" md-maxlength="50" ng-model="person.mellomnavn"/>
                                    <div ng-messages="testdataForm.mellomnavn.$error" ng-show="testdataForm.mellomnavn.$touched">
                                        <div ng-message="pattern">Feltet kan kun inneholde tall</div>
                                        <div ng-message="md-maxlength">Feltet kan maksimalt inneholde elleve siffer</div>
                                    </div>
                                </md-input-container>
                                <md-input-container class="tps-vk-input-container" flex>
                                    <label>Etternavn</label>
                                    <input name="etternavn" ng-required="true" md-maxlength="50" ng-model="person.etternavn"/>
                                    <div ng-messages="testdataForm.etternavn.$error" ng-show="testdataForm.etternavn.$touched">
                                        <div ng-message="pattern">Feltet kan kun inneholde bokstaver</div>
                                        <div ng-message="md-maxlength">Feltet kan maksimalt inneholde elleve siffer</div>
                                    </div>
                                </md-input-container>
                            </div>
                            <div layout="row">
                                <md-input-container layout="col" class="tps-vk-input-container" flex="15">
                                    <label>Kjønn</label>
                                    <md-select data-ng-model="person.kjonn">
                                        <md-option value="K">K</md-option>
                                        <md-option value="M">M</md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                            <br>
                        </div>
                    </div>
                </md-card-content>
            </md-card>
            </div>
        </div>
    </div>
</div>